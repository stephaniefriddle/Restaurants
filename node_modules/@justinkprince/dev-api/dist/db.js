"use strict";

var _express = _interopRequireDefault(require("express"));

var _lokijs = _interopRequireDefault(require("lokijs"));

var _path = _interopRequireDefault(require("path"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var app = (0, _express["default"])();
var port = 3003;
app.use(_express["default"].json());
app.get("/", function (req, res) {
  res.send("Example API");
}); // External

var resources = ["users", "dishes", "locations"];
var collections = {};

var dbFilepath = _path["default"].resolve("./data/app.json");

var db = new _lokijs["default"](dbFilepath);

if (!db.getCollection("users")) {
  collections.users = db.addCollection("users");
}

collections.users.insert({
  username: "what?"
});
db.save(); // const databaseInitialize = () => {
//   console.log("databaseInitialize");
//   if (!db.getCollection("users")) {
//     console.log("no users");
//     collections = {
//       users: db.addCollection("users"),
//     };
//   }
//   console.log("heheheh");
// };
// const dbFilepath = path.resolve("./data/app.json");
// const db = new loki(dbFilepath, {
//   autoload: true,
//   autoloadCallback: databaseInitialize,
//   autosave: true,
//   autosaveInterval: 4000,
// });
// db.loadDatabase();